(this["webpackJsonptrivia-test"]=this["webpackJsonptrivia-test"]||[]).push([[0],{30:function(e,t,n){e.exports=n(54)},38:function(e,t,n){},40:function(e,t,n){},46:function(e,t,n){},48:function(e,t){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=n(13),s=n(14),l=n(2),u=(n(38),n(3)),m=n.n(u),p=n(12),d=n(4),h=n(5),b=n(7),f=n(6);n(40);function v(){return(v=Object(p.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://opentdb.com/api.php?amount=5&token=".concat(t),e.next=4,fetch(n);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var E=function(e){return v.apply(this,arguments)},y=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api_token.php?command=request");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){return{type:"SUCCESS",data:e}},O=function(e){return{type:"ERROR",error:e}},k=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST"}),e.prev=1,e.next=4,y();case 4:n=e.sent,t(g(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(O(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleDisable=function(){var t=e.state,n=t.username,a=t.email;return!(n.length&&/\w+@\w+\.\S+/g.test(a))},e.handleClick=Object(p.a)(m.a.mark((function t(){var n,a,r,c,o,i,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.thunkGetSaveTokenDispatch,r=n.history,c=n.loginSucess,o=e.state,i=o.username,s=o.email,t.next=4,a();case 4:c(i,s),r.push("/questions");case 6:case"end":return t.stop()}}),t)}))),e.state={username:"",email:""},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"container-login col"},r.a.createElement("label",{htmlFor:"username"},"Username:",r.a.createElement("input",{id:"username",type:"text","data-testid":"input-player-name",onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement("label",{htmlFor:"email"},"Email:",r.a.createElement("input",{id:"email",type:"email","data-testid":"input-gravatar-email",onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement("button",{type:"button","data-testid":"btn-play",disabled:this.handleDisable(),onClick:this.handleClick},"Play"),r.a.createElement(s.b,{"data-testid":"btn-settings",to:"/settings"},"Configura\xe7\xf4es")))}}]),n}(a.Component),w=Object(i.b)((function(e){return{token:e.token}}),(function(e){return{thunkGetSaveTokenDispatch:function(){return e(k())},loginSucess:function(t,n){return e({type:"LOGIN",name:t,gravatarEmail:n})}}}))(j),S=(n(46),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-page"},r.a.createElement("div",{className:"container-settings col"},r.a.createElement("h1",{"data-testid":"settings-title"},"Configura\xe7\xf5es"),r.a.createElement("label",{htmlFor:"category"},"Categoria",r.a.createElement("select",{id:"category"},r.a.createElement("option",null,"option1"),r.a.createElement("option",null,"option2"),r.a.createElement("option",null,"option3"))),r.a.createElement("label",{htmlFor:"dificulty"},"Dificuldade",r.a.createElement("select",{id:"dificulty"},r.a.createElement("option",null,"option1"),r.a.createElement("option",null,"option2"),r.a.createElement("option",null,"option3"))),r.a.createElement("label",{htmlFor:"type"},"Tipo",r.a.createElement("select",{id:"type"},r.a.createElement("option",null,"option1"),r.a.createElement("option",null,"option2"),r.a.createElement("option",null,"option3")))))}}]),n}(a.Component)),x=n(29),C=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/ranking"},r.a.createElement("button",{type:"submit","data-testid":"btn-ranking"},"Ranking")))}}]),n}(a.Component),N=n(26),q=n.n(N),R=(n(49),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this.props,t=e.email,n=e.name,a=e.score,c=q()(t).toString();return r.a.createElement("div",{className:"header-container row"},r.a.createElement("img",{src:"https://www.gravatar.com/avatar/".concat(c),alt:n,"data-testid":"header-profile-picture"}),r.a.createElement("div",{className:"header-container-text row"},r.a.createElement("p",null,"Jogador :"," ",r.a.createElement("span",{"data-testid":"header-player-name"},n)),r.a.createElement("p",null,"Pontos :"," ",r.a.createElement("span",{"data-testid":"header-score"},a))))}}]),n}(a.Component)),D=Object(i.b)((function(e){return{name:e.player.name,email:e.player.gravatarEmail,score:e.player.score}}))(R),T=(n(50),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).scoreBoard=function(e,t,n){var r=a.props,c=r.myScore,o=r.getScoreDispatch,i=r.questions,s=a.state,l=s.allCorrect,u=0;"easy"===n&&(u=1),"medium"===n&&(u=2),"hard"===n&&(u=3),e===i[s.index].correct_answer&&o(c+10+t*u,l+1)},a.myTimer=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1e3,t=setInterval((function(){var e=a.state.timer;a.setState({timer:e-1}),1===e&&(a.setState({buttonDisabledTimer:!0}),clearInterval(t))}),1e3);case 2:case"end":return e.stop()}}),e)}))),a.handleClick=function(e){var t=e.target;a.setState({colorBorder:!0,btnNext:!0}),console.log(t.value)},a.handleNextQuestion=function(){var e=a.props,t=e.questions,n=e.history,r=a.state.index;a.setState({index:r+1,colorBorder:!1}),t.length-1===r&&n.push("/feedback"),a.questionsRender()},a.questionsRender=function(){var e=a.props.questions,t=a.state.index,n=e[t].incorrect_answers,r=e[t].correct_answer;a.setState({allAnswers:[].concat(Object(x.a)(n),[r]),index:t+1})},a.state={index:0,colorBorder:!1,btnNext:!1,loading:!0,timer:30,allCorrect:0,buttonDisabledTimer:!1,allAnswers:[]},a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.token,a=t.thunkGetSaveQuestionsDispatch,e.next=3,a(n);case 3:this.setState({loading:!1}),this.myTimer(),this.questionsRender();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.questions,n=this.state,a=n.index,c=n.colorBorder,o=n.btnNext,i=n.loading,s=n.timer,l=n.buttonDisabledTimer,u=n.allAnswers;return r.a.createElement("div",{className:"container-page"},r.a.createElement(D,null),i?r.a.createElement("h1",null,"Carregando..."):r.a.createElement("div",{className:"container-questions-aswers row"},r.a.createElement("span",null,s),r.a.createElement("div",{className:"container-question col"},r.a.createElement("h2",{className:"col","data-testid":"question-category"},t[a].category),r.a.createElement("p",{"data-testid":"question-text"},t[a].question)),r.a.createElement("div",{className:"container-aswers col","data-testid":"answer-options"},u.map((function(n,a){return r.a.createElement("button",{type:"button",disabled:l,key:a,className:c&&(t.some((function(e){return e.correct_answer===n}))?"green":"red"),onClick:e.handleClick,"data-testid":t.some((function(e){return e.correct_answer===n}))?"correct-answer":"wrong-answer"},n)}))),r.a.createElement("div",{className:"container-buttons col"},r.a.createElement(C,null),r.a.createElement("button",{type:"button",className:o?"btn-next":"btn-next-disabled",disabled:!o,onClick:this.handleNextQuestion,"data-testid":"btn-next"},"Next"))))}}]),n}(a.Component)),_=Object(i.b)((function(e){return{token:e.token,questions:e.questions,myScore:e.player.score}}),(function(e){return{thunkGetTokenDispatch:function(){return e(k())},thunkGetSaveQuestionsDispatch:function(t){return e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST"}),e.prev=1,e.next=4,y();case 4:return n=e.sent,e.next=7,E(n.token);case 7:a=e.sent,t({type:"SUCCESS_QUESTIONS",questions:a.results}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t(O(e.t0));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}())},getScoreDispatch:function(t){return e(function(e){return{type:"GET_SCORE",score:e}}(t))}}}))(T),U=function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(s.b,{to:"/"},r.a.createElement("button",{type:"button","data-testid":"btn-go-home"},"Home")))}}]),n}(a.Component),G=(n(51),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-page-ranking col"},r.a.createElement("h1",{"data-testid":"ranking-title"},"Ranking"),r.a.createElement("div",{className:"container-ranking col"},r.a.createElement("div",{className:"player row"},r.a.createElement("img",{src:"",alt:"img"}),r.a.createElement("p",null,"Fulano 10 pontos")),r.a.createElement("div",{className:"player row"},r.a.createElement("img",{src:"",alt:"img"}),r.a.createElement("p",null,"Cicrano 10 pontos")),r.a.createElement("div",{className:"player row"},r.a.createElement("img",{src:"",alt:"img"}),r.a.createElement("p",null,"Beltrano 10 pontos"))),r.a.createElement(U,null))}}]),n}(a.Component)),I=(n(52),function(e){Object(b.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).saveScore=function(){var t=e.props.importScore;return localStorage.setItem("score",JSON.parse(t))},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){this.saveScore()}},{key:"render",value:function(){var e=this.props,t=e.importScore,n=e.assertions,a=t>=3?"Well Done!":"Could be better...";return r.a.createElement("div",{className:"container-page"},r.a.createElement("header",null,r.a.createElement(D,null)),r.a.createElement("div",{className:"message-container",col:!0},r.a.createElement("h2",{"data-testid":"feedback-text"},a),r.a.createElement("p",{"data-testid":"feedback-total-score"},"Voc\xea acertou"," ",t," ","quest\xf5es!"),r.a.createElement("p",{"data-testid":"feedback-total-question"},"Um total de"," ",n," ","pontos")),r.a.createElement(C,null))}}]),n}(a.Component)),Q=Object(i.b)((function(e){return{importScore:e.player.score,assertions:e.player.assertions}}))(I);var B=function(){return r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/feedback",component:Q}),r.a.createElement(l.a,{exact:!0,path:"/questions",component:_}),r.a.createElement(l.a,{exact:!0,path:"/settings",component:S}),r.a.createElement(l.a,{exact:!0,path:"/ranking",component:G}),r.a.createElement(l.a,{exact:!0,path:"/",component:w}))},F=(n(53),n(17)),A=n(27),J=n(28),M=n(15),L={name:"",assertions:0,score:0,gravatarEmail:""},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(M.a)(Object(M.a)({},e),{},{name:t.name,gravatarEmail:t.gravatarEmail});case"GET_SCORE":return Object(M.a)(Object(M.a)({},e),{},{score:t.score});default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return t.data.token;case"ERROR":return Object(M.a)({},e);default:return e}},H=[{type:"",difficulty:"",category:"",question:"",correct_answer:"",incorrect_answers:[]}],V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS_QUESTIONS":return t.questions;case"ERROR":return Object(M.a)({},e);default:return e}},z=Object(F.combineReducers)({player:P,token:W,questions:V}),K=Object(F.createStore)(z,Object(A.composeWithDevTools)(Object(F.applyMiddleware)(J.a)));window.Cypress&&(window.store=K);var X=K;o.a.render(r.a.createElement(s.a,{basename:"/trivia"},r.a.createElement(i.a,{store:X},r.a.createElement(B,null))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.b895453e.chunk.js.map